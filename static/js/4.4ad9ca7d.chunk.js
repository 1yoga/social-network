(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{227:function(t,e,n){t.exports={formControl:"FormControls_formControl__18I32",error:"FormControls_error__1Zie4",formSummaryError:"FormControls_formSummaryError__3z-b4"}},228:function(t,e,n){"use strict";n.d(e,"b",(function(){return j})),n.d(e,"a",(function(){return l})),n.d(e,"c",(function(){return b}));var r=n(3),c=n(230),s=(n(0),n(227)),i=n.n(s),o=n(105),a=n(2),u=function(t){t.input;var e=t.meta,n=e.touched,r=e.error,c=t.children,s=n&&r;return Object(a.jsxs)("div",{className:i.a.formControl+" "+(s?i.a.error:""),children:[Object(a.jsx)("div",{children:c}),s&&Object(a.jsxs)("span",{children:['"',r,'"']})]})},j=function(t){var e=t.input,n=(t.meta,t.child,Object(c.a)(t,["input","meta","child"]));return Object(a.jsx)(u,Object(r.a)(Object(r.a)({},t),{},{children:Object(a.jsx)("textarea",Object(r.a)(Object(r.a)({},e),n))}))},l=function(t){var e=t.input,n=(t.meta,t.child,Object(c.a)(t,["input","meta","child"]));return Object(a.jsx)(u,Object(r.a)(Object(r.a)({},t),{},{children:Object(a.jsx)("input",Object(r.a)(Object(r.a)({},e),n))}))},b=function(t,e,n,c){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return Object(a.jsxs)("div",{children:[Object(a.jsx)(o.a,Object(r.a)({placeholder:t,validate:n,name:e,component:c},s))," ",i]})}},229:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return c}));var r=function(t){if(!t)return"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"},c=function(t){return function(e){if(e.length>t)return"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 ".concat(t," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")}}},233:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(58);function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,c=!1,s=void 0;try{for(var i,o=t[Symbol.iterator]();!(r=(i=o.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(a){c=!0,s=a}finally{try{r||null==o.return||o.return()}finally{if(c)throw s}}return n}}(t,e)||Object(r.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},238:function(t,e,n){"use strict";e.a=n.p+"static/media/9f08957fdb87a044dd6b8b5ddea8b024.a4ea413a.jpg"},252:function(t,e,n){t.exports={descriptionBlock:"ProfileInfo_descriptionBlock__3znEa",avatar:"ProfileInfo_avatar__2vs0n",contact:"ProfileInfo_contact__UkN6L"}},297:function(t,e,n){t.exports={postsBlock:"MyPosts_postsBlock__jcf7c",posts:"MyPosts_posts__1bjGD"}},298:function(t,e,n){t.exports={item:"Post_item__1AmFU"}},304:function(t,e,n){"use strict";n.r(e);var r=n(3),c=n(34),s=n(35),i=n(37),o=n(36),a=n(0),u=n.n(a),j=n(233),l=n(252),b=n.n(l),d=n(44),f=n(238),h=n(2),O=function(t){var e=Object(a.useState)(!1),n=Object(j.a)(e,2),r=n[0],c=n[1],s=Object(a.useState)(t.status),i=Object(j.a)(s,2),o=i[0],u=i[1];Object(a.useEffect)((function(){u(t.status)}),[t.status]);return Object(h.jsxs)("div",{children:[!r&&Object(h.jsx)("div",{children:Object(h.jsxs)("span",{onDoubleClick:function(){c(!0)},children:[Object(h.jsx)("b",{children:"\u0421\u0442\u0430\u0442\u0443\u0441:"})," ",t.status||"\u0441\u0442\u0430\u0442\u0443\u0441"]})}),r&&Object(h.jsx)("div",{children:Object(h.jsx)("input",{onChange:function(t){u(t.currentTarget.value)},autoFocus:!0,onBlur:function(){c(!1),t.updateStatus(o)},value:o})})]})},p=n(228),x=n(106),m=n(227),v=n.n(m),g=Object(x.a)({form:"edit-profile"})((function(t){var e=t.handleSubmit,n=t.profile,r=t.error;return Object(h.jsxs)("form",{onSubmit:e,children:[Object(h.jsx)("div",{children:Object(h.jsx)("button",{children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})}),r&&Object(h.jsx)("div",{className:v.a.formSummaryError,children:r}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:" \u0418\u043c\u044f: "})," ",Object(p.c)("\u0418\u043c\u044f","fullName",[],p.a)]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:" \u041e \u0441\u0435\u0431\u0435: "})," ",Object(p.c)("\u041e \u0441\u0435\u0431\u0435","aboutMe",[],p.b)]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:" \u0412 \u043f\u043e\u0438\u0441\u043a\u0430\u0445 \u0440\u0430\u0431\u043e\u0442\u044b: "})," ",Object(p.c)("","lookingForAJob",[],p.a,{type:"checkbox"})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:" \u041f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u0432\u044b\u043a\u0438: "})," ",Object(p.c)("\u041f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u0432\u044b\u043a\u0438","lookingForAJobDescription",[],p.b)]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:" \u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b: "})," ",Object.keys(n.contacts).map((function(t){return Object(h.jsx)("div",{className:b.a.contact,children:Object(h.jsxs)("b",{children:[t,": ",Object(p.c)(t,"contacts."+t,[],p.a)]})},t)}))]})]})})),P=function(t){var e=t.profile,n=t.isOwner,r=t.goToEditMode;return Object(h.jsxs)("div",{children:[n&&Object(h.jsx)("div",{children:Object(h.jsx)("button",{onClick:r,children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:" \u0418\u043c\u044f: "})," ",e.fullName]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:" ID: "})," ",e.userId]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:" \u041e \u0441\u0435\u0431\u0435: "})," ",e.aboutMe]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:" \u0412 \u043f\u043e\u0438\u0441\u043a\u0430\u0445 \u0440\u0430\u0431\u043e\u0442\u044b: "})," ",e.lookingForAJob?"\u0414\u0430":"\u041d\u0435\u0442"]}),e.lookingForAJob&&Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:" \u041f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u0432\u044b\u043a\u0438: "})," ",e.lookingForAJobDescription]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:" \u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b: "})," ",Object.keys(e.contacts).map((function(t){return Object(h.jsx)(y,{contactTitle:t,contactValue:e.contacts[t]},t)}))]})]})},y=function(t){var e=t.contactTitle,n=t.contactValue;return Object(h.jsxs)("div",{className:b.a.contact,children:[Object(h.jsxs)("b",{children:[" ",e," : "]})," ",n," "]})},k=function(t){var e=t.profile,n=t.status,r=t.updateStatus,c=(t.id,t.isOwner),s=t.savePhoto,i=t.saveProfile,o=Object(a.useState)(!1),u=Object(j.a)(o,2),l=u[0],p=u[1];if(!e)return Object(h.jsx)(d.a,{});return Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:b.a.descriptionBlock,children:[Object(h.jsx)("img",{alt:"img",src:e.photos.large||f.a,className:b.a.avatar}),c&&Object(h.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&s(t.target.files[0])}}),l?Object(h.jsx)(g,{initialValues:e,profile:e,onSubmit:function(t){i(t).then((function(){p(!1)}))}}):Object(h.jsx)(P,{goToEditMode:function(){p(!0)},profile:e,isOwner:c}),Object(h.jsx)(O,{status:n,updateStatus:r})]})})},_=n(57),S=n(297),w=n.n(S),C=n(298),I=n.n(C),N=function(t){return Object(h.jsxs)("div",{className:I.a.item,children:[Object(h.jsx)("img",{alt:"img",src:"https://vk.com/sticker/1-68-128"}),t.message,Object(h.jsxs)("div",{children:[Object(h.jsx)("span",{children:"like"})," ",t.likesCount]})]})},A=n(105),F=n(229),T=Object(F.a)(10),E=Object(x.a)({form:"ProfileAddNewPostForm"})((function(t){return Object(h.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(h.jsx)("div",{children:Object(h.jsx)(A.a,{component:p.b,name:"newPostText",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",validate:[F.b,T]})}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{children:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c"})})]})})),B=u.a.memo((function(t){var e=t.posts.map((function(t){return Object(h.jsx)(N,{message:t.message,likesCount:t.likesCount},t.id)}));return Object(h.jsxs)("div",{className:w.a.postsBlock,children:[Object(h.jsx)("h3",{children:" \u041c\u043e\u0438 \u043f\u043e\u0441\u0442\u044b "}),Object(h.jsx)("div",{children:Object(h.jsx)(E,{onSubmit:function(e){t.addPost(e.newPostText)}})}),Object(h.jsx)("div",{className:w.a.posts,children:e})]})})),D=n(29),J=Object(D.b)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),(function(t){return{addPost:function(e){t(Object(_.a)(e))}}}))(B),M=function(t){return Object(h.jsxs)("div",{children:[Object(h.jsx)(k,{savePhoto:t.savePhoto,isOwner:t.isOwner,profile:t.profile,status:t.status,saveProfile:t.saveProfile,updateStatus:t.updateStatus}),Object(h.jsx)(J,{})]})},U=n(7),z=n(20),V=function(t){Object(i.a)(n,t);var e=Object(o.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,n){this.props.match.params.userId!==t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(h.jsx)(M,Object(r.a)(Object(r.a)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))}}]),n}(u.a.Component);e.default=Object(z.d)(Object(D.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.id,isAuth:t.auth.isAuth}}),{getUserProfile:_.d,getStatus:_.c,updateStatus:_.g,savePhoto:_.e,saveProfile:_.f}),U.f)(V)}}]);
//# sourceMappingURL=4.4ad9ca7d.chunk.js.map